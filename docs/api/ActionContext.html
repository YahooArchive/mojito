<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>Mojito API: ActionContext</title>

	<link rel="stylesheet" type="text/css" href="assets/reset-fonts-grids-min.css?stamp=1334168363.41" />
	<link rel="stylesheet" type="text/css" href="assets/api.css?stamp=1334168363.41" />

    <script type="text/javascript" src="assets/api-js?stamp=1334168363.41"></script>
    <script type="text/javascript" src="assets/ac-js?stamp=1334168363.41"></script>
</head>

<body id="yahoo-com">

<div id="doc3" class="yui-t2">
	<div id="hd">
        <h1><a href="http://developer.yahoo.com/cocktails/mojito/" title="mojito">mojito</a></h1>
        <h3>ActionContext&nbsp; <span class="subtitle">0.3.8</span></h3>
        <a href="./index.html" title="mojito">mojito</a> 
            &gt; <a href="./module_ActionContext.html" title="ActionContext">ActionContext</a>
                 &gt; ActionContext 
                
        <form onsubmit="return false">
            <div id="propertysearch">
                Search: <input autocomplete="off" id="searchinput" />
                <div id="searchresults">
                    &nbsp;
                </div>
            </div>
        </form>
	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form action="#" name="yui-classopts-form" method="get" id="yui-classopts-form">
                <fieldset>
                    <legend>Filters</legend>
                <span class="classopts"><input type="checkbox" name="show_private" id="show_private" /> <label for="show_private">Show Private</label></span>
                <span class="classopts"><input type="checkbox" name="show_protected" id="show_protected" /> <label for="show_protected">Show Protected</label></span>
                <span class="classopts"><input type="checkbox" name="show_deprecated" id="show_deprecated" /> <label for="show_deprecated">Show Deprecated</label></span>
                </fieldset>
            </form>

                    <h2>
                        

                        
                        
                            Class <b property="yui:name">ActionContext</b>
                        <span class="extends">
                        </span>

                    </h2>
                    <!-- class tree goes here -->
                    
                
  

                    <div class="summary description" property="yui:description">
                        The main point of entry for all mojits into Mojito. The Action Context is
passed to every mojit action during execution, either on the client or
server. This object is the API into Mojito, can can have many plugins
attached the provide extra functionality.
                    </div>

                    
                    <div rel="yui:properties" resource="#properties">

                    </div>

                    <div rel="yui:methods" resource="#methods">
                        <div class="section method details">
                            <h3 id="methods">Methods</h3>
                            <div class="content">
                                    <div class="" rel="yui:method" resource="#method_destroy">
                                    <h4>
                                        <a name="method_destroy">destroy</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                        
                                        
                                        void
                                            <strong property="yui:name">destroy</strong>
                                           (
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Called by the bean registry whenever this bean is reinitialized
                                        </div>

                                        <div class="description">


                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>


             

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_disable">
                                    <h4>
                                        <a name="method_disable">disable</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                        
                                        
                                        void
                                            <strong property="yui:name">disable</strong>
                                           (
                                                
                                                        
                                                         queue
                                                    
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Disables all Ajax requests for the application.
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">queue</span>
                                                        &lt;<span property="yui:type">Boolean</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> (Optional) When set to true, queues all requests while disabled.</span>
                                                        </dd>
                                                </dl>

                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>


             

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="yui:method" rel="yui:method" resource="#method__dispatch">
                                      <h4><a name="method_dispatch">_dispatch</a></h4>
                                      <div class="detail" >
                                        <code>
                                            <strong property="yui:name">_dispatch</strong>
                                           (

                                                         command                                                
                                                        , 
                                                         adapter

                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            This dispatch function is called one time per Mojito execution. It creates a
contextualized Y instance for all further internal dispatches to use. It also
creates the ActionContext for the mojit.
The command has three main parts:  the "instance", the "context", and the "params".
<pre>
command: {
instance: ...see below...
context: ...see below...
params: ...see below...
}
</pre>
The "instance" is a partial instance with details of the mojit instance.
See `ServerStore.expandInstance()` for details of the structure and which fields
are required.
The "context" is the request context.  It is built by the "contextualizer"
middleware.
The "params" is a structured set of parameters to pass to the mojit.
<pre>
params: {
route: {},
url: {},
body: {},
file: {},
...
}
</pre>
<pre>
adapter: {
flush: function(data, meta){},
done: function(data, meta){},
error: function(err){}
}
</pre>
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">command</span>
                                                        &lt;<span property="yui:type">map</span>&gt;
                                                        </code>
                                                        <span property="yui:description">  the "command" describing how to dispatch the mojit. see above</span>
                                                        </dd>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">adapter</span>
                                                        &lt;<span property="yui:type">object</span>&gt;
                                                        </code>
                                                        <span property="yui:description">  the output adapter to pass to the mojit. see above</span>
                                                        </dd>
                                                </dl>     

                                       </div>
                                    </div>
                                    <hr />
                                    </div>
                                    
                                    <div class="deprecated" rel="yui:method" resource="#method_dispatch">
                                    <h4>
                                        <a name="method_dispatch">dispatch</a></h4>
                                    <div class="detail" >
                                        <code>
                                            <strong property="yui:name">dispatch</strong>
                                           (
                                                
                                                        
                                                         command
                                                        , 
                                                         adapter
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            This dispatch function is called one time per Mojito execution. It creates a
contextualized Y instance for all further internal dispatches to use. It also
creates the ActionContext for the mojit.
The command has three main parts:  the "instance", the "context", and the "params".
<pre>
command: {
instance: ...see below...
context: ...see below...
params: ...see below...
}
</pre>
The "instance" is a partial instance with details of the mojit instance.
See `ServerStore.expandInstance()` for details of the structure and which fields
are required.
The "context" is the request context.  It is built by the "contextualizer"
middleware.
The "params" is a structured set of parameters to pass to the mojit.
<pre>
params: {
route: {},
url: {},
body: {},
file: {},
...
}
</pre>
<pre>
adapter: {
flush: function(data, meta){},
done: function(data, meta){},
error: function(err){}
}
</pre>
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">command</span>
                                                        &lt;<span property="yui:type">map</span>&gt;
                                                        </code>
                                                        <span property="yui:description">  the "command" describing how to dispatch the mojit. see above</span>
                                                        </dd>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">adapter</span>
                                                        &lt;<span property="yui:type">object</span>&gt;
                                                        </code>
                                                        <span property="yui:description">  the output adapter to pass to the mojit. see above</span>
                                                        </dd>
                                                </dl>
                                                <div class="deprecated">
                                                  <strong>Deprecated</strong> and will be going away. Use ac._dispatch().
                                                </div>       
                                        </div>
                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_done">
                                    <h4>
                                        <a name="method_done">done</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                        
                                        
                                        void
                                            <strong property="yui:name">done</strong>
                                           (
                                                
                                                        
                                                         data
                                                    
                                                
                                                        , 
                                                         meta
                                                    
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Returns data and closes the request.
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">data</span>
                                                        &lt;<span property="yui:type">object|string</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> The data you want return by the request</span>
                                                        </dd>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">meta</span>
                                                        &lt;<span property="yui:type">object</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> Any meta-data required to service the request</span>
                                                        </dd>
                                                </dl>

                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_enable">
                                    <h4>
                                        <a name="method_enable">enable</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                         static 
                                        
                                        void
                                            <strong property="yui:name">enable</strong>
                                           (
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Enables sending of requests.
                                        </div>

                                        <div class="description">


                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>


             

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_error">
                                    <h4>
                                        <a name="method_error">error</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                        
                                        
                                        void
                                            <strong property="yui:name">error</strong>
                                           (
                                                
                                                        
                                                         err
                                                    
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Programatically report an error to Mojito, which will handle it gracefully.
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">err</span>
                                                        &lt;<span property="yui:type">Error</span>&gt;
                                                        </code>
                                                        <span property="yui:description">  A normal JavaScript Error object is expected, but you may add a "code" property to the error
if you want the framework to report a certain HTTP status code for the error. For example, if the status code
is 404, Mojito will generate a 404 page.</span>
                                                        </dd>
                                                </dl>

                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_flush">
                                    <h4>
                                        <a name="method_flush">flush</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                        
                                        
                                        void
                                            <strong property="yui:name">flush</strong>
                                           (
                                                
                                                        
                                                         data
                                                    
                                                
                                                        , 
                                                         meta
                                                    
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Returns data in the request and allows you to carry on execution.
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">data</span>
                                                        &lt;<span property="yui:type">object|string</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> The data you want return by the request</span>
                                                        </dd>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">meta</span>
                                                        &lt;<span property="yui:type">object</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> Any meta-data required to service the request</span>
                                                        </dd>
                                                </dl>

                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>


             

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_setRequestFormatter">
                                    <h4>
                                        <a name="method_setRequestFormatter">setRequestFormatter</a></h4>
                                    <div class="detail" >
                                        <code>
                                     
                                        void
                                            <strong property="yui:name">setRequestFormatter</strong>
                                           (
                                                
                                                        
                                                         requestType
                                                    
                                                
                                                        , 
                                                         formatter
                                                    
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Sets the request formatter function for a given request type.
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">requestType</span>
                                                        &lt;<span property="yui:type">String</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> The type of request that the formatter should handle.</span>
                                                        </dd>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">formatter</span>
                                                        &lt;<span property="yui:type">Function</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> The function to call to format the request.</span>
                                                        </dd>
                                                </dl>

                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                                    <div class="" rel="yui:method" resource="#method_setResponseFormatter">
                                    <h4>
                                        <a name="method_setResponseFormatter">setResponseFormatter</a></h4>
                                    <div class="detail" >
                                        <code>
                                        
                                        
                                        
                                        void
                                            <strong property="yui:name">setResponseFormatter</strong>
                                           (
                                                
                                                        
                                                         formatter
                                                    
                                                
                                            )
                                        </code>
                                        
                                        <div class="description" property="yui:description">
                                            Sets the response formatter function for all responses.
                                        </div>

                                        <div class="description">

                                                <dl rel="yui:parameters">
                                                    <dt>Parameters:</dt>
                                                        <dd rel="yui:parameter">
                                                        <code><span property="yui:name">formatter</span>
                                                        &lt;<span property="yui:type">Function</span>&gt;
                                                        </code>
                                                        <span property="yui:description"> The function to call to format the response object.</span>
                                                        </dd>
                                                </dl>

                                                <dl>
                                                    <dt>Returns:
                                                    <code property="yui:return">
                                                        void
                                                    </code></dt>
                                                    <dd property="yui:returnInfo"></dd>
                                                </dl>


             

                                        </div>

                                    </div>
                                    <hr />
                                    </div>
                            </div>
                        </div>

                    </div>

                    <div rel="yui:events" resource="#events">


                    </div>

                    <div rel="yui:attributes" resource="#configattributes">

                    </div>

			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div id="moduleList" class="module">
                        <h4>Modules</h4>
                        <ul class="content">
                                <li class="selected"><a href="module_ActionContext.html" title="ActionContext">ActionContext</a></li>
                                <li class=""><a href="module_ActionContextAddon.html" title="ActionContextAddon">ActionContextAddon</a></li>
                                <li class=""><a href="module_CommonLibs.html" title="CommonLibs">CommonLibs</a></li>
                                <li class=""><a href="module_MojitoClient.html" title="MojitoClient">MojitoClient</a></li>
                                <li class=""><a href="module_MojitoServer.html" title="MojitoServer">MojitoServer</a></li>
                        </ul>
                    </div>

                    <div id="classList" class="module">
                        <h4>Classes</h4>
                        <ul class="content">
                                <li class="selected"><a href="ActionContext.html" title="ActionContext">ActionContext</a></li>
                        </ul>
                    </div>

                    <!--
                    <div id="fileList" class="module">
                        <h4>Files</h4>
                        <ul class="content">        
                                <li class=""><a href="dali_bean.client-optional.js.html" title="dali_bean.client-optional.js">dali_bean.client-optional.js</a></li>
                                <li class=""><a href="io_facade.client-optional.js.html" title="io_facade.client-optional.js">io_facade.client-optional.js</a></li>
                                <li class=""><a href="performance_monitor.client-optional.js.html" title="performance_monitor.client-optional.js">performance_monitor.client-optional.js</a></li>
                                <li class=""><a href="registry.client-optional.js.html" title="registry.client-optional.js">registry.client-optional.js</a></li>
                                <li class=""><a href="request_formatter.client-optional.js.html" title="request_formatter.client-optional.js">request_formatter.client-optional.js</a></li>
                                <li class=""><a href="request_handler.client-optional.js.html" title="request_handler.client-optional.js">request_handler.client-optional.js</a></li>
                                <li class=""><a href="requestor.client-optional.js.html" title="requestor.client-optional.js">requestor.client-optional.js</a></li>
                                <li class=""><a href="response_formatter.client-optional.js.html" title="response_formatter.client-optional.js">response_formatter.client-optional.js</a></li>
                                <li class=""><a href="response_processor.client-optional.js.html" title="response_processor.client-optional.js">response_processor.client-optional.js</a></li>
                                <li class=""><a href="transport.client-optional.js.html" title="transport.client-optional.js">transport.client-optional.js</a></li>
                                <li class=""><a href="transport_utils.client-optional.js.html" title="transport_utils.client-optional.js">transport_utils.client-optional.js</a></li>
                        </ul>
                    </div>
                    -->


                    <div id="methodsList" class="module">
                        <h4>Methods</h4>
                        <ul class="content">        
                                <li class=""><a href="#method_destroy" title="destroy">destroy</a></li>
                                <li class=""><a href="#method_disable" title="disable">disable</a></li>
                                <li class=""><a href="#method_dispatch" title="dispatch">dispatch</a></li>
                                <li class=""><a href="#method_done" title="done">done</a></li>
                                <li class=""><a href="#method_enable" title="enable">enable</a></li>
                                <li class=""><a href="#method_error" title="error">error</a></li>
                                <li class=""><a href="#method_flush" title="flush">flush</a></li>
                                <li class=""><a href="#method_setRequestFormatter" title="setRequestFormatter">setRequestFormatter</a></li>
                                <li class=""><a href="#method_setResponseFormatter" title="setResponseFormatter">setResponseFormatter</a></li>
                        </ul>
                    </div>



            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2012 Yahoo! Inc. All rights reserved.
	</div>
</div>
<script type="text/javascript">
    ALL_YUI_PROPS = [{"url": "ActionContext.html#method_destroy", "access": "", "host": "ActionContext", "type": "method", "name": "destroy"}, {"url": "ActionContext.html#method_disable", "access": "", "host": "ActionContext", "type": "method", "name": "disable"}, {"url": "ActionContext.html#method_dispatch", "access": "", "host": "ActionContext", "type": "method", "name": "dispatch"}, {"url": "ActionContext.html#method_done", "access": "", "host": "ActionContext", "type": "method", "name": "done"}, {"url": "ActionContext.html#method_enable", "access": "", "host": "ActionContext", "type": "method", "name": "enable"}, {"url": "ActionContext.html#method_error", "access": "", "host": "ActionContext", "type": "method", "name": "error"}, {"url": "ActionContext.html#method_flush", "access": "", "host": "ActionContext", "type": "method", "name": "flush"}, {"url": "ActionContext.html#method_setRequestFormatter", "access": "", "host": "ActionContext", "type": "method", "name": "setRequestFormatter"}, {"url": "ActionContext.html#method_setResponseFormatter", "access": "", "host": "ActionContext", "type": "method", "name": "setResponseFormatter"}];
</script>
</body>
</html>
